vCenter:
  host: ""
  port: 443
  insecureFlag: "1"
  clusterId: ""
  datacenters: ""
  username: ""
  password: ""
  configSecret:
    name: "vsphere-config-secret"
    generate: true
    configTemplate: |
      [Global]
      cluster-id = {{ required ".Values.vCenter.clusterId must be provided" (default .Values.vCenter.clusterId .Values.global.cattle.clusterId) | quote }}
      user = {{ .Values.vCenter.username | quote }}
      password = {{ .Values.vCenter.password | quote }}
      port = {{ .Values.vCenter.port | quote }}
      insecure-flag = {{ .Values.vCenter.insecureFlag | quote }}

      [VirtualCenter {{ .Values.vCenter.host | quote }}]
      datacenters = {{ .Values.vCenter.datacenters | quote }}

csiController:
  csiResizer:
    enabled: false
  image:
    repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
    tag: v2.6.2
    csiAttacher:
      repository: rancher/mirrored-sig-storage-csi-attacher
      tag: v3.4.0
    csiResizer:
      repository: rancher/mirrored-sig-storage-csi-resizer
      tag: v1.4.0
    livenessProbe:
      repository: rancher/mirrored-sig-storage-livenessprobe
      tag: v2.6.0
    vsphereSyncer:
      repository: rancher/mirrored-cloud-provider-vsphere-csi-release-syncer
      tag: v2.6.2
    csiProvisioner:
      repository: rancher/mirrored-sig-storage-csi-provisioner
      tag: v3.1.0
  ## Node labels for pod assignment
  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
  ##
  nodeSelector: {}
  # Uncomment below toleration if you need an aggressive pod eviction in case when
  # node becomes not-ready or unreachable. Default is 300 seconds if not specified.
  tolerations: []
  # - key: node.kubernetes.io/not-ready
  #   operator: Exists
  #   effect: NoExecute
  #   tolerationSeconds: 30
  # - key: node.kubernetes.io/unreachable
  #   operator: Exists
  #   effect: NoExecute
  #   tolerationSeconds: 30

# Internal features
csiMigration:
  enabled: false
csiAuthCheck:
  enabled: false
onlineVolumeExtend:
  enabled: false
triggerCsiFullsync:
  enabled: false
asyncQueryVolume:
  enabled: false
improvedCsiIdempotency:
  enabled: false
improvedVolumeTopology:
  enabled: false
blockVolumeSnapshot:
  enabled: false
csiWindowsSupport:
  enabled: false
useCsinodeId:
  enabled: true
listVolumes:
  enabled: false
pvToBackingdiskobjectidMapping:
  enabled: false
cnsmgrSuspendCreateVolume:
  enabled: false
topologyPreferentialDatastores:
  enabled: false
maxPvscsiTargetsPerVm:
  enabled: false

csiNode:
  ## Node labels for pod assignment
  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
  ##
  nodeSelector: {}
  ## List of node taints to tolerate (requires Kubernetes >= 1.6)
  tolerations: []
  prefixPath: ""
  image:
    repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
    tag: v2.6.2
    nodeDriverRegistrar:
      repository: rancher/mirrored-sig-storage-csi-node-driver-registrar
      tag: v2.5.0
    livenessProbe:
      repository: rancher/mirrored-sig-storage-livenessprobe
      tag: v2.6.0

storageClass:
  enabled: true
  allowVolumeExpansion: false
  name: "vsphere-csi-sc"
  isDefault: true
  storagePolicyName: ""
  datastoreURL: ""

global:
  cattle:
    systemDefaultRegistry: ""

versionOverrides:
  - constraint: "~ 1.25"
    values:
      csiController:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.7.0
          csiAttacher:
            repository: rancher/mirrored-sig-storage-csi-attacher
            tag: v3.4.0
          csiResizer:
            repository: rancher/mirrored-sig-storage-csi-resizer
            tag: v1.4.0
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.7.0
          vsphereSyncer:
            repository: rancher/mirrored-cloud-provider-vsphere-csi-release-syncer
            tag: v2.7.0
          csiProvisioner:
            repository: rancher/mirrored-sig-storage-csi-provisioner
            tag: v3.2.1
      csiNode:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.7.0
          nodeDriverRegistrar:
            repository: rancher/mirrored-sig-storage-csi-node-driver-registrar
            tag: v2.5.1
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.7.0
  - constraint: ">= 1.24 < 1.25"
    values:
      csiController:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.6.2
          csiAttacher:
            repository: rancher/mirrored-sig-storage-csi-attacher
            tag: v3.4.0
          csiResizer:
            repository: rancher/mirrored-sig-storage-csi-resizer
            tag: v1.4.0
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.7.0
          vsphereSyncer:
            repository: rancher/mirrored-cloud-provider-vsphere-csi-release-syncer
            tag: v2.6.2
          csiProvisioner:
            repository: rancher/mirrored-sig-storage-csi-provisioner
            tag: v3.2.1
      csiNode:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.6.2
          nodeDriverRegistrar:
            repository: rancher/mirrored-sig-storage-csi-node-driver-registrar
            tag: v2.5.1
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.7.0
  - constraint: ">= 1.21 < 1.24"
    values:
      csiController:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.5.4
          csiAttacher:
            repository: rancher/mirrored-sig-storage-csi-attacher
            tag: v3.4.0
          csiResizer:
            repository: rancher/mirrored-sig-storage-csi-resizer
            tag: v1.4.0
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.6.0
          vsphereSyncer:
            repository: rancher/mirrored-cloud-provider-vsphere-csi-release-syncer
            tag: v2.5.4
          csiProvisioner:
            repository: rancher/mirrored-sig-storage-csi-provisioner
            tag: v3.1.0
      csiNode:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.5.4
          nodeDriverRegistrar:
            repository: rancher/mirrored-sig-storage-csi-node-driver-registrar
            tag: v2.5.0
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.6.0
  - constraint: "~ 1.20"
    values:
      csiController:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.4.3
          csiAttacher:
            repository: rancher/mirrored-sig-storage-csi-attacher
            tag: v3.3.0
          csiResizer:
            repository: rancher/mirrored-sig-storage-csi-resizer
            tag: v1.3.0
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.4.0
          vsphereSyncer:
            repository: rancher/mirrored-cloud-provider-vsphere-csi-release-syncer
            tag: v2.4.3
          csiProvisioner:
            repository: rancher/mirrored-sig-storage-csi-provisioner
            tag: v3.0.0
      csiNode:
        image:
          repository: rancher/mirrored-cloud-provider-vsphere-csi-release-driver
          tag: v2.4.3
          nodeDriverRegistrar:
            repository: rancher/mirrored-sig-storage-csi-node-driver-registrar
            tag: v2.3.0
          livenessProbe:
            repository: rancher/mirrored-sig-storage-livenessprobe
            tag: v2.4.0
