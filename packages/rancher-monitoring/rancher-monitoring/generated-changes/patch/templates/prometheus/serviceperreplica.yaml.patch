--- charts-original/templates/prometheus/serviceperreplica.yaml
+++ charts/templates/prometheus/serviceperreplica.yaml
@@ -1,6 +1,6 @@
 {{- if and .Values.prometheus.enabled .Values.prometheus.servicePerReplica.enabled }}
 {{- $count := .Values.prometheus.prometheusSpec.replicas | int -}}
-{{- $serviceValues := .Values.prometheus.servicePerReplica -}} 
+{{- $serviceValues := .Values.prometheus.servicePerReplica -}}
 apiVersion: v1
 kind: List
 metadata:
@@ -30,6 +30,9 @@
         - {{ $cidr }}
       {{- end }}
       {{- end }}
+      {{- if ne $serviceValues.type "ClusterIP" }}
+      externalTrafficPolicy: {{ $serviceValues.externalTrafficPolicy }}
+      {{- end }}
       ports:
         - name: {{ $.Values.prometheus.prometheusSpec.portName }}
           {{- if eq $serviceValues.type "NodePort" }}
@@ -39,8 +42,8 @@
           targetPort: {{ $serviceValues.targetPort }}
       selector:
         app.kubernetes.io/name: prometheus
-        prometheus: {{ include "kube-prometheus-stack.fullname" $ }}-prometheus
-        statefulset.kubernetes.io/pod-name: prometheus-{{ include "kube-prometheus-stack.fullname" $ }}-prometheus-{{ $i }}
+        prometheus: {{ include "kube-prometheus-stack.prometheus.crname" $ }}
+        statefulset.kubernetes.io/pod-name: prometheus-{{ include "kube-prometheus-stack.prometheus.crname" $ }}-{{ $i }}
       type: "{{ $serviceValues.type }}"
 {{- end }}
 {{- end }}
