--- charts-original/templates/role.yaml
+++ charts/templates/role.yaml
@@ -1,5 +1,8 @@
+{{- if not (kindIs "slice" .Values.collectors) }}
+{{- fail "Collectors need to be a List since kube-state-metrics chart 3.2.2. Please check README for more information."}}
+{{- end }}
 {{- if and (eq .Values.rbac.create true) (not .Values.rbac.useExistingRole) -}}
-{{- range (split "," .Values.namespaces) }}
+{{- range (ternary (split "," .Values.namespaces) (list "") (eq $.Values.rbac.useClusterRole false)) }}
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 {{- if eq $.Values.rbac.useClusterRole false }}
@@ -9,10 +12,7 @@
 {{- end }}
 metadata:
   labels:
-    app.kubernetes.io/name: {{ template "kube-state-metrics.name" $ }}
-    helm.sh/chart: {{ $.Chart.Name }}-{{ $.Chart.Version }}
-    app.kubernetes.io/managed-by: {{ $.Release.Service }}
-    app.kubernetes.io/instance: {{ $.Release.Name }}
+    {{- include "kube-state-metrics.labels" $ | indent 4 }}
   name: {{ template "kube-state-metrics.fullname" $ }}
 {{- if eq $.Values.rbac.useClusterRole false }}
   namespace: {{ . }}
@@ -186,5 +186,8 @@
     - verticalpodautoscalers
   verbs: ["list", "watch"]
 {{ end -}}
+{{ if $.Values.rbac.extraRules }}
+{{ toYaml $.Values.rbac.extraRules }}
+{{ end }}
 {{- end -}}
 {{- end -}}
